!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Impetus=n()}(this,function(){"use strict";var t=document,n=!!function(){var t=!1;try{var n=function(){},o=Object.defineProperty({},"passive",{get:function(){t=!0}});addEventListener("test",n,o),removeEventListener("test",n)}catch(t){}return t}()&&{passive:!0};return function o(e){function u(){l.call(h,x)}function i(t){if("touchmove"===t.type||"touchstart"===t.type||"touchend"===t.type){var n=t.targetTouches[0]||t.changedTouches[0];return{x:n.clientX,y:n.clientY,id:n.identifier}}return{x:t.clientX,y:t.clientY,id:null}}function c(o){var e=i(o);if(!j){j=!0,F=e.id,A=E=e.x,L=[],s(A);var u=t.addEventListener;u("touchmove",r,n),u("touchend",a),u("touchcancel",f),u("mousemove",r,n),u("mouseup",a)}}function r(t){var n=i(t);j&&n.id===F&&(E=n.x,s(A),g||requestAnimationFrame(v),g=!0)}function a(t){var n=i(t);j&&n.id===F&&f()}function f(){j=!1,s(A),function(){var t=L[0],n=L[L.length-1],o=n.x-t.x,e=n.time-t.time;b=o/(e/15/y)||0,requestAnimationFrame(m)}();var n=t.removeEventListener;n("touchmove",r),n("touchend",a),n("touchcancel",f),n("mouseup",a),n("mousemove",r)}function s(t){for(var n=Date.now();L.length>0&&!(n-L[0].time<=100);)L.shift();L.push({x:t,time:n})}function v(){x+=(E-A)*y,u(),A=E,g=!1}function m(){!function(t,n){var o=.04*q,e=o,i=x+n/2,c=Math.floor(i/q)*q,r=c+q,a=i-c;b+=(a-(q-a))/q*3,x+=b*=.92,n>-o&&x<c+e?(b=0,x=c,u()):n<o&&x>r-e?(b=0,x=r,u()):(u(),requestAnimationFrame(m))}(0,b)}var d=e.source,h=void 0===d?document:d,l=e.update,p=e.multiplier,y=void 0===p?1:p,w=e.positionX,x=void 0===w?0:w,q=e.width;!function(t,n){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var A,E,F,b,g=!1,j=!1,L=[];h="string"==typeof h?t.querySelector(h):h,0!==x&&u(),h.addEventListener("touchstart",c,n),h.addEventListener("mousedown",c),this.destroy=function(){return h.removeEventListener("touchstart",c),h.removeEventListener("mousedown",c),null},this.setX=function(t){x=t},this.setMultiplier=function(t){y=t}}});
//# sourceMappingURL=impetus.min.js.map
